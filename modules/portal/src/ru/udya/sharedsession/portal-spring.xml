<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:task="http://www.springframework.org/schema/task">

    <!--cuba_PortalAnonymousSessionHolder-->

    <bean id="redisClient" class="io.lettuce.core.support.RedisClientFactoryBean">
        <property name="uri" ref="${ss.redis.uri}"/>
        <property name="password" ref="${ss.redis.password}"/>
    </bean>

    <bean id="anonymousSessionPingScheduler" class="org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler">
        <property name="daemon" value="true"/>
        <property name="poolSize" value="1"/>
    </bean>

    <task:scheduled-tasks scheduler="anonymousSessionPingScheduler">
        <!-- every 10 minutes -->
        <task:scheduled ref="cuba_PortalAnonymousSessionHolder" method="pingSession" fixed-delay="600000"/>
    </task:scheduled-tasks>
    
</beans>
